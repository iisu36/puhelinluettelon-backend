{"version":3,"sources":["components/filter.js","components/personForm.js","components/persons.js","components/notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","props","name","handleName","number","handleNumber","type","onClick","add","Persons","persons","remove","setPersons","map","person","toLowerCase","includes","id","window","confirm","errorStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","successStyle","Notification","message","text","error","style","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","newName","setNewName","newNumber","setNewNumber","setFilter","setMessage","useEffect","phoneService","replace","personObject","returnedPerson","setTimeout","catch","e","event","target","preventDefault","some","concat","phonebook","ReactDOM","render","document","getElementById"],"mappings":"2KAWeA,EATA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,mBAEtB,OACI,qDACsB,uBAAOC,MAAOF,EAAQG,SAAUF,QCa/CG,EAjBI,SAACC,GAEhB,OACI,iCACI,yCACU,uBAAOH,MAAOG,EAAMC,KAAMH,SAAUE,EAAME,gBAEpD,2CACY,uBAAOL,MAAOG,EAAMG,OAAQL,SAAUE,EAAMI,kBAExD,8BACI,wBAAQC,KAAK,SAASC,QAASN,EAAMO,IAArC,uBCmBDC,EA9BC,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,QAASd,EAAiC,EAAjCA,OAAQe,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,WAOxC,OAEIF,EAAQG,KAAI,SAAAC,GAER,MAAe,KAAXlB,GAAiBkB,EAAOZ,KAAKa,cAAcC,SAASpB,EAAOmB,eAGvD,gCACI,8BAAuBD,EAAOZ,KAA9B,IAAqCY,EAAOV,SAApCU,EAAOZ,MACf,wBAAqCK,QAAS,WAd7C,IAACU,EAeMC,OAAOC,QAAP,iBAAyBL,EAAOZ,KAAhC,QAfNe,EAgBmBH,EAAOG,GAf5CN,EAAOM,GACPL,EAAWF,EAAQd,QAAO,SAAAkB,GAAM,OAAIA,EAAOG,KAAOA,EAAKH,EAAS,WAYhD,6BAAgBA,EAAOZ,KAAvB,aAFJ,UAAaY,EAAOZ,KAApB,QAWD,SCzBbkB,EAAa,CACfC,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAGZC,EAAe,CACjBP,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAwBHE,EArBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAEpB,OAAqB,OAAjBA,EAAQC,KACD,KAGPD,EAAQE,MAEJ,qBAAKC,MAAOb,EAAZ,SACKU,EAAQC,OAKb,qBAAKE,MAAOL,EAAZ,SACKE,EAAQC,Q,gBCnCnBG,EAAU,eA8BD,EA5BA,WAIX,OAFgBC,IAAMC,IAAIF,GAEXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAwB9B,EArBA,SAACC,GAIZ,OAFgBL,IAAMM,KAAKP,EAASM,GAErBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiB9B,EAdA,SAACtB,GAIZ,OAFgBkB,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BjB,IAE5BoB,MAAK,SAAAC,GAAQ,OAAIA,MAUrB,EAPC,SAACrB,EAAIuB,GAIjB,OAFgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBjB,GAAMuB,GAE/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCoG9BK,EAzHH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTnC,EADS,KACAE,EADA,OAEciC,mBAAS,IAFvB,mBAETC,EAFS,KAEAC,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTG,EAHS,KAGEC,EAHF,OAIYJ,mBAAS,IAJrB,mBAITjD,EAJS,KAIDsD,EAJC,OAKcL,mBAAS,CAAEd,KAAM,KAAMC,OAAO,IAL5C,mBAKTF,EALS,KAKAqB,EALA,KAQhBC,qBAAU,WACRC,IAEGhB,MAAK,SAAAE,GACJ3B,EAAW2B,QAEd,IAEH,IAsDMe,EAAU,SAACC,EAActC,GAE7BoC,EAAqBpC,EAAIsC,GACtBlB,MAAK,SAAAmB,GACJ5C,EAAWF,EAAQG,KAAI,SAAAC,GAAM,OAAIA,EAAOG,KAAOA,EAAKH,EAAS0C,MAC7DL,EAAW,CAAEpB,KAAK,YAAD,OAAcyB,EAAetD,MAAQ8B,OAAO,IAC7DyB,YAAW,WACTN,EAAW,2BAAKrB,GAAN,IAAeC,KAAM,UAC9B,QAEJ2B,OAAM,SAAAC,GACL/C,EAAWF,EAAQd,QAAO,SAAAkB,GAAM,OAAIA,EAAOG,KAAOA,MAClDkC,EAAW,CAAEpB,KAAK,qBAAD,OAAuBwB,EAAarD,KAApC,yCAAiF8B,OAAO,QAiB/G,OACE,gCACE,2CAEA,cAAC,EAAD,CAAcF,QAASA,IAEvB,cAAC,EAAD,CAAQlC,OAAQA,EAAQC,mBAjFD,SAAC+D,GAC1BV,EAAUU,EAAMC,OAAO/D,UAkFrB,2CAEA,cAAC,EAAD,CAAYU,IAjFE,SAACoD,GACjBA,EAAME,iBAEN,IAAMP,EAAe,CACnBrD,KAAM4C,EACN1C,OAAQ4C,GAGN/B,EAAK,EAEJP,EAAQqD,MAAK,SAAAjD,GAIhB,OAFAG,EAAKH,EAAOG,GAELH,EAAOZ,OAAS4C,KAkBnB5B,OAAOC,QAAP,UAAkB2B,EAAlB,4EAEFQ,EAAQC,EAActC,GAjBxBoC,EACUE,GACPlB,MAAK,SAAAE,GACJ3B,EAAWF,EAAQsD,OAAOzB,IAC1BY,EAAW,CAAEpB,KAAK,SAAD,OAAWe,GAAWd,OAAO,IAC9CyB,YAAW,WACTN,EAAW,2BAAKrB,GAAN,IAAeC,KAAM,UAC9B,QAEJ2B,OAAM,SAAAC,GACLR,EAAW,CAAEpB,KAAM4B,EAAErB,SAASC,KAAKP,MAAOA,OAAO,OAWvDe,EAAW,IACXE,EAAa,KA0CiB9C,WA7FP,SAACyD,GACxBb,EAAWa,EAAMC,OAAO/D,QA4FoCO,aAzFnC,SAACuD,GAC1BX,EAAaW,EAAMC,OAAO/D,QAyFtBI,KAAM4C,EAAS1C,OAAQ4C,IAEzB,yCAEA,cAAC,EAAD,CAAStC,QAASA,EAASd,OAAQA,EAAQe,OA5BhC,SAACM,GACdgD,EAAiBhD,GACdoB,MAAK,WACJc,EAAW,CAAEpB,KAAM,UAAWC,OAAO,IACrCyB,YAAW,WACTN,EAAW,2BAAKrB,GAAN,IAAeC,KAAM,UAC9B,QAEJ2B,OAAM,SAAAC,GACLR,EAAW,CAAEpB,KAAM4B,EAAG3B,OAAO,QAmB4BpB,WAAYA,QCtH7EsD,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.580b15f3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => {\n\n    return (\n        <div>\n            filter shown with <input value={filter} onChange={handleFilterChange} />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n\n    return (\n        <form>\n            <div>\n                name: <input value={props.name} onChange={props.handleName} />\n            </div>\n            <div>\n                number: <input value={props.number} onChange={props.handleNumber} />\n            </div>\n            <div>\n                <button type=\"submit\" onClick={props.add} >add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ persons, filter, remove, setPersons }) => {\n\n    const removePerson = (id) => {\n        remove(id)\n        setPersons(persons.filter(person => person.id !== id ? person : null))\n    }\n\n    return (\n\n        persons.map(person => {\n\n            if (filter === '' || person.name.toLowerCase().includes(filter.toLowerCase())) {\n\n                return (\n                    <div key={`${person.name}row`}>\n                        <p key={person.name} >{person.name} {person.number}</p>\n                        <button key={`${person.name}button`} onClick={() => {\n                            if (window.confirm(`Delete ${person.name}?`)) {\n                                removePerson(person.id)\n                            }\n                        }}>Delete</button>\n                    </div>\n                )\n            }\n\n            return null\n        })\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n}\n\nconst successStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n}\n\nconst Notification = ({ message }) => {\n\n    if (message.text === null) {\n        return null\n    }\n\n    if (message.error) {\n        return (\n            <div style={errorStyle} >\n                {message.text}\n            </div>\n        )\n    } else {\n        return (\n            <div style={successStyle} >\n                {message.text}\n            </div>\n        )\n    }\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\n    const request = axios.get(baseUrl)\n\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n\n    const request = axios.post(baseUrl, newObject)\n\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n\n    const request = axios.delete(`${baseUrl}/${id}`)\n\n    return request.then(response => response)\n}\n\nconst replace = (id, newObject) => {\n\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, replace }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/filter'\nimport PersonForm from './components/personForm'\nimport Persons from './components/persons'\nimport Notification from './components/notification'\nimport phoneService from './services/phonebook'\nimport phonebook from './services/phonebook'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState({ text: null, error: false })\n\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    let id = 0\n\n    if (!persons.some(person => {\n\n      id = person.id\n\n      return person.name === newName\n    })) {\n\n      phoneService\n        .create(personObject)\n        .then(data => {\n          setPersons(persons.concat(data))\n          setMessage({ text: `Added ${newName}`, error: false })\n          setTimeout(() => {\n            setMessage({ ...message, text: null })\n          }, 1000)\n        })\n        .catch(e => {\n          setMessage({ text: e.response.data.error, error: true })\n        })\n\n    } else {\n\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\n        replace(personObject, id)\n      }\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const replace = (personObject, id) => {\n\n    phoneService.replace(id, personObject)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setMessage({ text: `Replaced ${returnedPerson.name}`, error: false })\n        setTimeout(() => {\n          setMessage({ ...message, text: null })\n        }, 1000)\n      })\n      .catch(e => {\n        setPersons(persons.filter(person => person.id !== id))\n        setMessage({ text: `Information about ${personObject.name} has already been removed from server`, error: true })\n      })\n  }\n\n  const remove = (id) => {\n    phonebook.remove(id)\n      .then(() => {\n        setMessage({ text: \"Deleted\", error: false })\n        setTimeout(() => {\n          setMessage({ ...message, text: null })\n        }, 1000)\n      })\n      .catch(e => {\n        setMessage({ text: e, error: true })\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h2>add a new</h2>\n\n      <PersonForm add={addPerson} handleName={handleNameChange} handleNumber={handleNumberChange}\n        name={newName} number={newNumber} />\n\n      <h2>Numbers</h2>\n\n      <Persons persons={persons} filter={filter} remove={remove} setPersons={setPersons} />\n\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}